<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistemas de Ecuaciones 2x2 - Aprende con Animales</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Bangers&family=Nunito:wght@400;600;700;800&family=Chewy&family=Luckiest+Guy&family=Kalam:wght@300;400;700&family=Baloo+2:wght@400;600;700&family=Varela+Round&family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Enhanced 3D Futuristic Loader Styles */
        .loader-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #b39ddb, #9fa8da, #90caf9);
            background-size: 400% 400%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            overflow: hidden;
            font-family: 'Fredoka One', cursive;
        }
        
        /* Animated background */
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .loader-container {
            animation: gradientShift 15s ease infinite;
        }
        
        /* 3D Orb */
        .orb {
            position: relative;
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, rgba(186, 104, 200, 0.8), rgba(121, 134, 203, 0.6));
            box-shadow: 
                0 0 50px rgba(186, 104, 200, 0.6),
                0 0 100px rgba(121, 134, 203, 0.5),
                inset 0 0 50px rgba(255, 255, 255, 0.2);
            transform-style: preserve-3d;
            animation: float 6s ease-in-out infinite, 
                       rotate 12s linear infinite,
                       pulse 2s ease-in-out infinite;
            transform: rotateX(60deg);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 4rem;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotateX(60deg); }
            50% { transform: translateY(-20px) rotateX(60deg); }
        }
        
        @keyframes rotate {
            0% { transform: rotateX(60deg) rotateY(0deg) rotateZ(0deg); }
            100% { transform: rotateX(60deg) rotateY(360deg) rotateZ(360deg); }
        }
        
        @keyframes pulse {
            0%, 100% { box-shadow: 
                0 0 50px rgba(186, 104, 200, 0.6),
                0 0 100px rgba(121, 134, 203, 0.5),
                inset 0 0 50px rgba(255, 255, 255, 0.2); 
            }
            50% { box-shadow: 
                0 0 70px rgba(186, 104, 200, 0.8),
                0 0 120px rgba(121, 134, 203, 0.7),
                inset 0 0 70px rgba(255, 255, 255, 0.3); 
            }
        }
        
        /* Orb rings */
        .orb::before {
            content: "";
            position: absolute;
            top: -20px;
            left: -20px;
            right: -20px;
            bottom: -20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: rotate 8s linear infinite;
            transform: rotateX(80deg);
        }
        
        .orb::after {
            content: "";
            position: absolute;
            top: -40px;
            left: -40px;
            right: -40px;
            bottom: -40px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            animation: rotate 16s linear reverse infinite;
            transform: rotateX(40deg);
        }
        
        /* Loading progress bar */
        .loading-progress {
            position: absolute;
            bottom: 200px;
            width: 300px;
            height: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #ce93d8, #90caf9, #80cbc4, #fff176);
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            transition: width 0.3s ease;
        }
        
        /* Loading text and percentage */
        .loading-info {
            position: absolute;
            bottom: 150px;
            text-align: center;
        }
        
        .loader-text {
            color: white;
            font-size: 1.8rem;
            font-weight: 600;
            letter-spacing: 2px;
            text-transform: uppercase;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
            margin-bottom: 10px;
        }
        
        .percentage {
            color: #b39ddb;
            font-size: 1.5rem;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(179, 157, 219, 0.8);
        }
        
        /* Digital matrix effect */
        .matrix-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.1;
            overflow: hidden;
            pointer-events: none;
        }
        
        .matrix-column {
            position: absolute;
            font-family: monospace;
            color: rgba(255, 255, 255, 0.8);
            font-size: 18px;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.6);
        }
        
        /* System loading details */
        .system-status {
            position: absolute;
            bottom: 80px;
            width: 400px;
            max-height: 150px;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 15px;
            font-size: 1rem;
            color: #ce93d8;
            border: 1px solid rgba(206, 147, 216, 0.3);
        }
        
        .status-item {
            margin: 8px 0;
            opacity: 0;
            transition: opacity 0.5s;
        }
        
        .status-item.active {
            opacity: 1;
        }
        
        .status-item.success {
            color: #80cbc4;
        }
        
        .status-item.error {
            color: #ef9a9a;
        }
        
        /* Original styles with z-index adjustment for container */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #9c64a6;
            --secondary: #64b5f6;
            --accent: #ffb74d;
            --dark: #8e24aa;
            --light: #f5f5f5;
            --success: #66bb6a;
            --warning: #ffb74d;
            --info: #42a5f5;
        }
        
        body {
            background: linear-gradient(135deg, #e1bee7, #c5cae9, #bbdefb, #b2dfdb);
            color: #424242;
            min-height: 100vh;
            padding: 20px;
            font-family: 'Nunito', sans-serif;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: rgba(255, 255, 255, 0.85);
            border-radius: 25px;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            z-index: 1;
            opacity: 0;
            transition: opacity 0.5s ease-in;
        }
        
        header {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
            font-family: 'Bangers', cursive;
        }
        
        header::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 70%);
            animation: pulse 4s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.3; }
            50% { transform: scale(1.05); opacity: 0.5; }
            100% { transform: scale(1); opacity: 0.3; }
        }
        
        h1 {
            font-size: 3.5rem;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            position: relative;
            z-index: 1;
            color: white;
            letter-spacing: 2px;
        }
        
        .subtitle {
            font-size: 1.4rem;
            opacity: 0.95;
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
            color: white;
            font-family: 'Nunito', sans-serif;
            font-weight: 600;
        }
        
        .tabs {
            display: flex;
            background: linear-gradient(to right, #d1c4e9, #c5cae9);
            padding: 0 20px;
            overflow-x: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--secondary) transparent;
            font-family: 'Chewy', cursive;
        }
        
        .tabs::-webkit-scrollbar {
            height: 8px;
        }
        
        .tabs::-webkit-scrollbar-thumb {
            background-color: var(--secondary);
            border-radius: 10px;
        }
        
        .tab {
            padding: 20px 25px;
            cursor: pointer;
            font-weight: bold;
            text-align: center;
            min-width: 150px;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            white-space: nowrap;
            position: relative;
            font-size: 1.1rem;
        }
        
        .tab:hover {
            background-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-3px);
        }
        
        .tab.active {
            background-color: rgba(255, 255, 255, 0.4);
            border-bottom: 3px solid var(--secondary);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .tab i {
            margin-right: 8px;
            font-size: 1.3em;
        }
        
        .content {
            padding: 30px;
            min-height: 500px;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section {
            margin-bottom: 40px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.5);
        }
        
        .section:hover {
            transform: translateY(-5px);
        }
        
        /* Different fonts for different sections */
        #intro .section {
            font-family: 'Nunito', sans-serif;
        }
        
        #methods .section {
            font-family: 'Varela Round', sans-serif;
        }
        
        #graphing .section {
            font-family: 'Quicksand', sans-serif;
        }
        
        #substitution .section {
            font-family: 'Baloo 2', cursive;
        }
        
        #equalization .section {
            font-family: 'Kalam', cursive;
        }
        
        #elimination .section {
            font-family: 'Nunito', sans-serif;
        }
        
        #games .section {
            font-family: 'Chewy', cursive;
        }
        
        h2 {
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary);
            display: flex;
            align-items: center;
            font-size: 2rem;
        }
        
        h2 i {
            margin-right: 15px;
            font-size: 2em;
        }
        
        p {
            line-height: 1.8;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        
        .equation {
            background: rgba(255, 255, 255, 0.8);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            font-size: 1.5rem;
            text-align: center;
            border: 3px solid var(--primary);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            font-family: 'Quicksand', sans-serif;
            font-weight: 600;
        }
        
        .game-container {
            background: linear-gradient(45deg, #d1c4e9, #c5cae9);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            text-align: center;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-family: 'Chewy', cursive;
        }
        
        .game-title {
            font-size: 2.2rem;
            color: #5e35b1;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }
        
        .game-description {
            max-width: 600px;
            margin: 0 auto 30px;
            font-size: 1.2rem;
            color: #4527a0;
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        }
        
        .btn {
            background: linear-gradient(to right, var(--accent), #ffcc80);
            color: #5d4037;
            border: none;
            padding: 15px 35px;
            border-radius: 50px;
            font-size: 1.2rem;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            font-weight: bold;
            font-family: 'Luckiest Guy', cursive;
        }
        
        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            background: linear-gradient(to right, #ffcc80, var(--accent));
        }
        
        .btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }
        
        .btn-secondary {
            background: linear-gradient(to right, var(--info), #90caf9);
            color: white;
        }
        
        .btn-secondary:hover {
            background: linear-gradient(to right, #90caf9, var(--info));
        }
        
        .game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin: 30px 0;
        }
        
        .game-card {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s ease;
            border: 3px solid var(--primary);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            font-family: 'Chewy', cursive;
        }
        
        .game-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
            background: rgba(156, 100, 166, 0.1);
        }
        
        .game-card h3 {
            color: var(--primary);
            margin: 15px 0;
            font-size: 1.5rem;
        }
        
        .image-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }
        
        .image-container {
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            transition: transform 0.3s ease;
            position: relative;
            height: 220px;
        }
        
        .image-container:hover {
            transform: scale(1.05);
        }
        
        .image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        
        .image-container:hover img {
            transform: scale(1.1);
        }
        
        .image-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            padding: 12px;
            font-size: 1rem;
            text-align: center;
            color: white;
            font-family: 'Nunito', sans-serif;
        }
        
        .info-box {
            background: linear-gradient(45deg, var(--success), #81c784);
            color: white;
            padding: 25px;
            border-radius: 20px;
            margin: 25px 0;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            font-family: 'Quicksand', sans-serif;
        }
        
        .info-box h3 {
            color: white;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            font-size: 1.5rem;
        }
        
        .info-box h3 i {
            margin-right: 10px;
        }
        
        .steps {
            counter-reset: step;
            list-style: none;
            padding-left: 0;
        }
        
        .steps li {
            margin-bottom: 18px;
            padding-left: 45px;
            position: relative;
            font-size: 1.2rem;
        }
        
        .steps li::before {
            counter-increment: step;
            content: counter(step);
            position: absolute;
            left: 0;
            top: 0;
            background: var(--primary);
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 30px 0;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            font-family: 'Varela Round', sans-serif;
        }
        
        .comparison-table th {
            background: var(--primary);
            color: white;
            padding: 18px;
            text-align: left;
            font-size: 1.2rem;
        }
        
        .comparison-table td {
            padding: 15px 18px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            font-size: 1.1rem;
        }
        
        .comparison-table tr:nth-child(even) {
            background: rgba(255, 255, 255, 0.5);
        }
        
        .comparison-table tr:hover {
            background: rgba(156, 100, 166, 0.1);
        }
        
        footer {
            text-align: center;
            padding: 25px;
            background: rgba(255, 255, 255, 0.7);
            margin-top: 30px;
            border-radius: 0 0 20px 20px;
            font-size: 1.1rem;
            font-family: 'Nunito', sans-serif;
        }
        
        /* Estilos adicionales para los juegos */
        .answer-btn.correct {
            background: linear-gradient(to right, var(--success), #81c784);
            border: 2px solid var(--success);
            color: white;
        }
        
        .answer-btn.incorrect {
            background: linear-gradient(to right, var(--warning), #ffcc80);
            border: 2px solid var(--warning);
            color: #5d4037;
        }
        
        #retry-substitution-btn, #retry-elimination-btn, #retry-matrices-btn, 
        #retry-determinants-btn, #retry-applications-btn, #retry-final-btn {
            background: linear-gradient(to right, var(--info), #90caf9);
            color: white;
        }
        
        #retry-substitution-btn:hover, #retry-elimination-btn:hover, #retry-matrices-btn:hover,
        #retry-determinants-btn:hover, #retry-applications-btn:hover, #retry-final-btn:hover {
            background: linear-gradient(to right, #90caf9, var(--info));
        }
        
        /* Estilos para el juego de métodos mejorado */
        .hero-card {
            background: linear-gradient(135deg, rgba(156, 100, 166, 0.2), rgba(100, 181, 246, 0.2));
            border: 3px solid var(--secondary);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }
        
        .hero-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            border-color: var(--accent);
        }
        
        .hero-card::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 70%);
            animation: pulse 3s infinite;
        }
        
        .hero {
            padding: 25px;
            text-align: center;
            position: relative;
            z-index: 1;
        }
        
        .hero-icon {
            font-size: 4rem;
            color: var(--secondary);
            margin-bottom: 15px;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        .hero-name {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--accent);
            text-shadow: 0 0 10px rgba(255, 183, 77, 0.5);
            font-family: 'Chewy', cursive;
        }
        
        .challenge {
            padding: 0 25px 25px;
            position: relative;
            z-index: 1;
            font-family: 'Varela Round', sans-serif;
        }
        
        .equation-box {
            background: rgba(255, 255, 255, 0.8);
            padding: 20px;
            border-radius: 20px;
            margin: 20px 0;
            font-size: 1.4rem;
            text-align: center;
            border: 3px solid var(--primary);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
            font-family: 'Quicksand', sans-serif;
            font-weight: 600;
        }
        
        .question {
            font-size: 1.3rem;
            margin: 20px 0;
            color: var(--primary);
            font-weight: bold;
        }
        
        .options {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        
        .option-btn {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 30px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: bold;
            font-family: 'Luckiest Guy', cursive;
        }
        
        .option-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }
        
        .option-btn i {
            font-size: 1.2rem;
        }
        
        .option-btn.correct {
            background: linear-gradient(to right, var(--success), #81c784);
            animation: correct-pulse 0.6s ease;
        }
        
        .option-btn.incorrect {
            background: linear-gradient(to right, var(--warning), #ffcc80);
            animation: shake 0.5s ease;
        }
        
        @keyframes correct-pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        .result-box {
            min-height: 50px;
            margin-top: 20px;
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            font-weight: bold;
            font-size: 1.1rem;
            font-family: 'Varela Round', sans-serif;
        }
        
        .game-progress {
            margin-top: 35px;
            text-align: center;
        }
        
        .progress-bar {
            width: 100%;
            height: 25px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 20px;
            border: 2px solid var(--secondary);
        }
        
        .progress-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, var(--success), #81c784);
            border-radius: 15px;
            transition: width 0.5s ease;
            box-shadow: 0 0 15px rgba(102, 187, 106, 0.4);
        }
        
        .score-display {
            font-size: 1.5rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            font-family: 'Chewy', cursive;
        }
        
        .score-display i {
            color: var(--warning);
            font-size: 1.8rem;
        }
        
        .particle {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: var(--accent);
            border-radius: 50%;
            pointer-events: none;
            animation: particle-float 2s ease-out forwards;
        }
        
        @keyframes particle-float {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) scale(0);
                opacity: 0;
            }
        }
        
        .success-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, var(--success), #81c784);
            color: white;
            padding: 40px;
            border-radius: 25px;
            font-size: 2.5rem;
            font-weight: bold;
            text-align: center;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: none;
            animation: success-pop 0.5s ease;
            font-family: 'Bangers', cursive;
        }
        
        @keyframes success-pop {
            0% { transform: translate(-50%, -50%) scale(0); }
            50% { transform: translate(-50%, -50%) scale(1.1); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }
        
        /* Estilos para el juego de animalitos */
        .animal-game {
            width: 100%;
            max-width: 700px;
            margin: 0 auto;
            font-family: 'Chewy', cursive;
        }
        
        .game-board {
            position: relative;
            width: 100%;
            height: 450px;
            background: linear-gradient(135deg, #9575cd, #7986cb);
            border-radius: 25px;
            border: 4px solid var(--secondary);
            overflow: hidden;
            margin-bottom: 25px;
            box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.2);
        }
        
        .grid-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            grid-template-rows: repeat(5, 1fr);
            pointer-events: none;
        }
        
        .grid-cell {
            border: 1px dashed rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.6);
            font-family: 'Quicksand', sans-serif;
        }
        
        .animal {
            position: absolute;
            font-size: 4rem;
            cursor: move;
            transition: transform 0.2s ease;
            user-select: none;
            z-index: 10;
        }
        
        .animal:hover {
            transform: scale(1.15);
        }
        
        .animal.dragging {
            transform: scale(1.3);
            z-index: 20;
        }
        
        .target-zone {
            position: absolute;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(102, 187, 106, 0.4), transparent);
            border: 3px dashed var(--success);
            display: flex;
            align-items: center;
            justify-content: center;
            animation: pulse-target 2s infinite;
        }
        
        @keyframes pulse-target {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.15); opacity: 1; }
        }
        
        .animal-controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .equation-display {
            background: rgba(255, 255, 255, 0.8);
            padding: 15px 20px;
            border-radius: 15px;
            font-size: 1.3rem;
            margin: 15px;
            display: inline-block;
            border: 2px solid var(--primary);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            font-family: 'Quicksand', sans-serif;
            font-weight: 600;
        }
        
        .game-result {
            margin-top: 20px;
            font-size: 1.4rem;
            font-weight: bold;
            min-height: 40px;
            font-family: 'Chewy', cursive;
        }
        
        .game-result.success {
            color: var(--success);
        }
        
        .game-result.error {
            color: var(--warning);
        }
        
        .hint-btn {
            background: linear-gradient(to right, var(--info), #90caf9);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 1.1rem;
            cursor: pointer;
            margin: 15px;
            transition: all 0.3s ease;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
            font-weight: bold;
            font-family: 'Luckiest Guy', cursive;
        }
        
        .hint-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }
        
        .hint-text {
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-top: 15px;
            display: none;
            max-width: 500px;
            margin: 15px auto;
            border: 2px solid var(--info);
            font-size: 1.2rem;
            font-family: 'Quicksand', sans-serif;
        }
        
        .celebration {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            display: none;
        }
        
        .celebration.active {
            display: block;
        }
        
        .heart {
            position: absolute;
            font-size: 2.5rem;
            color: var(--accent);
            animation: heart-float 3s ease-out forwards;
        }
        
        @keyframes heart-float {
            0% {
                transform: translateY(0) scale(0);
                opacity: 1;
            }
            50% {
                transform: translateY(-60px) scale(1.2);
                opacity: 1;
            }
            100% {
                transform: translateY(-120px) scale(0);
                opacity: 0;
            }
        }
        
        .star {
            position: absolute;
            width: 6px;
            height: 6px;
            background-color: white;
            border-radius: 50%;
            opacity: 0.8;
            animation: twinkle 3s infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.8; }
        }
        
        /* Estilos para el juego de la balanza mágica */
        .balance-game {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 35px 0;
            flex-wrap: wrap;
            font-family: 'Kalam', cursive;
        }
        
        .equation-side {
            width: 30%;
            text-align: center;
        }
        
        .drop-zone {
            background: rgba(255, 255, 255, 0.8);
            border: 3px dashed var(--secondary);
            border-radius: 20px;
            padding: 25px;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        .drop-zone.drag-over {
            background: rgba(100, 181, 246, 0.2);
            border-color: var(--accent);
            transform: scale(1.05);
        }
        
        .equation-result {
            font-size: 1.7rem;
            font-weight: bold;
            margin-top: 15px;
            color: var(--primary);
        }
        
        .balance-container {
            width: 35%;
            position: relative;
            height: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
        }
        
        .balance-beam {
            width: 100%;
            height: 15px;
            background: linear-gradient(to right, #a1887f, #8d6e63);
            border-radius: 8px;
            position: relative;
            transform-origin: center bottom;
            transition: transform 0.5s ease;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }
        
        .balance-plate {
            position: absolute;
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #ffecb3, #ffe082);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            top: -50px;
            border: 3px solid #8d6e63;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }
        
        .left-plate {
            left: 10px;
        }
        
        .right-plate {
            right: 10px;
        }
        
        .plate-icon {
            font-size: 3rem;
        }
        
        .balance-stand {
            width: 15px;
            height: 120px;
            background: linear-gradient(to bottom, #a1887f, #8d6e63);
            border-radius: 8px;
            margin-top: -5px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }
        
        .balance-base {
            width: 150px;
            height: 20px;
            background: linear-gradient(to right, #a1887f, #8d6e63);
            border-radius: 12px;
            margin-top: 15px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }
        
        .numbers-container {
            margin: 35px 0;
            text-align: center;
        }
        
        .draggable-numbers {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .number-block {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.7rem;
            font-weight: bold;
            cursor: grab;
            transition: all 0.3s ease;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
            user-select: none;
            font-family: 'Luckiest Guy', cursive;
        }
        
        .number-block:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
        }
        
        .number-block:active {
            cursor: grabbing;
            transform: scale(1.15);
        }
        
        /* Estilos para el juego de monstruos */
        .monster-game {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
            font-family: 'Baloo 2', cursive;
        }
        
        .equations-container {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin: 25px 0;
            flex-wrap: wrap;
        }
        
        .equation-card {
            background: rgba(255, 255, 255, 0.8);
            border: 3px solid var(--primary);
            border-radius: 20px;
            padding: 20px;
            min-width: 220px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .equation-card:hover {
            transform: translateY(-8px);
        }
        
        .equation-title {
            color: var(--primary);
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .equation-text {
            font-size: 1.5rem;
            color: #424242;
        }
        
        .game-instruction {
            margin: 30px 0;
            padding: 20px;
            background: rgba(156, 100, 166, 0.1);
            border-radius: 20px;
            border: 2px dashed var(--secondary);
        }
        
        .game-instruction p {
            font-size: 1.4rem;
            margin-bottom: 15px;
        }
        
        .hint {
            color: var(--warning);
            font-style: italic;
            font-size: 1.2rem;
        }
        
        .monsters-container {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin: 35px 0;
            flex-wrap: wrap;
        }
        
        .monster {
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            animation: float 3s ease-in-out infinite;
        }
        
        .monster:nth-child(2) {
            animation-delay: 0.5s;
        }
        
        .monster:nth-child(3) {
            animation-delay: 1s;
        }
        
        .monster:nth-child(4) {
            animation-delay: 1.5s;
        }
        
        .monster:hover {
            transform: translateY(-20px) scale(1.15);
        }
        
        .monster-body {
            font-size: 5rem;
            filter: drop-shadow(0 8px 15px rgba(0, 0, 0, 0.3));
        }
        
        .monster-number {
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--accent);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.8rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            border: 3px solid white;
            font-family: 'Luckiest Guy', cursive;
        }
        
        .monster.correct .monster-body {
            animation: monster-dance 0.8s ease;
        }
        
        .monster.incorrect .monster-body {
            animation: monster-shake 0.5s ease;
        }
        
        @keyframes monster-dance {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-20deg); }
            75% { transform: rotate(20deg); }
        }
        
        @keyframes monster-shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-15px); }
            75% { transform: translateX(15px); }
        }
        
        .monster-eliminated {
            animation: monster-eliminate 1s ease forwards;
        }
        
        @keyframes monster-eliminate {
            0% { 
                transform: scale(1) rotate(0deg); 
                opacity: 1; 
            }
            50% { 
                transform: scale(1.8) rotate(180deg); 
                opacity: 0.7; 
            }
            100% { 
                transform: scale(0) rotate(360deg); 
                opacity: 0; 
            }
        }
        
        .success-animation {
            position: relative;
            display: inline-block;
        }
        
        .success-animation::after {
            content: "✨";
            position: absolute;
            top: -25px;
            right: -25px;
            font-size: 2.5rem;
            animation: sparkle 1s ease infinite;
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }
        
        /* Variables display */
        .variables-display {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 20px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            border: 3px solid var(--primary);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            font-family: 'Quicksand', sans-serif;
        }
        
        .variables-display h3 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 1.6rem;
        }
        
        .variable-item {
            display: inline-block;
            margin: 0 20px;
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .variable-icon {
            font-size: 2.5rem;
            vertical-align: middle;
            margin-right: 10px;
        }
        
        /* Estilos para el juego de igualación del primer documento */
        .equalization-game {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
            font-family: 'Kalam', cursive;
        }
        
        .balance-container-eq {
            position: relative;
            width: 100%;
            height: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
            margin: 30px 0;
        }
        
        .balance-beam-eq {
            width: 100%;
            height: 15px;
            background: linear-gradient(to right, #8d6e63, #5d4037);
            border-radius: 8px;
            position: relative;
            transform-origin: center bottom;
            transition: transform 0.5s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        .balance-plate-eq {
            position: absolute;
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #ffecb3, #ffe082);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            top: -60px;
            border: 3px solid #5d4037;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        .left-plate-eq {
            left: 10%;
        }
        
        .right-plate-eq {
            right: 10%;
        }
        
        .plate-animals-eq {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 5px;
            width: 100%;
            height: 100%;
            padding: 5px;
        }
        
        .balance-stand-eq {
            width: 15px;
            height: 120px;
            background: linear-gradient(to bottom, #8d6e63, #5d4037);
            border-radius: 8px;
            margin-top: -5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        .balance-base-eq {
            width: 150px;
            height: 20px;
            background: linear-gradient(to right, #8d6e63, #5d4037);
            border-radius: 10px;
            margin-top: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        .balance-values-eq {
            display: flex;
            justify-content: space-between;
            width: 100%;
            max-width: 400px;
            margin: 20px auto;
        }
        
        .value-display-eq {
            background: rgba(0, 0, 0, 0.5);
            padding: 10px 15px;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: bold;
            border: 1px solid var(--secondary);
            min-width: 120px;
            color: white;
        }
        
        .animals-container-eq {
            margin: 30px 0;
            text-align: center;
        }
        
        .animals-container-eq h4 {
            margin-bottom: 15px;
            color: var(--secondary);
            font-size: 1.3rem;
        }
        
        .draggable-animals-eq {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 15px;
        }
        
        .animal-block-eq {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 15px;
            padding: 10px;
            cursor: grab;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            user-select: none;
            text-align: center;
            min-width: 80px;
        }
        
        .animal-block-eq:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.4);
        }
        
        .animal-block-eq:active {
            cursor: grabbing;
            transform: scale(1.1);
        }
        
        .animal-icon-eq {
            font-size: 2.5rem;
            margin-bottom: 5px;
        }
        
        .animal-value-eq {
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .game-controls-eq {
            margin: 25px 0;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .game-result-eq {
            margin-top: 20px;
            font-size: 1.2rem;
            font-weight: bold;
            min-height: 30px;
        }
        
        .game-result-eq.success {
            color: var(--success);
        }
        
        .game-result-eq.error {
            color: var(--warning);
        }
        
        .hint-text-eq {
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px auto;
            max-width: 500px;
            display: none;
            border: 1px solid var(--info);
        }
        
        .animal-in-plate-eq {
            transform: scale(0.8);
        }
        
        .animal-in-plate-eq .animal-icon-eq {
            font-size: 2rem;
        }
        
        .animal-in-plate-eq .animal-value-eq {
            font-size: 1rem;
        }
        
        @media (max-width: 768px) {
            .tabs {
                flex-wrap: wrap;
            }
            .tab {
                min-width: 120px;
                padding: 15px;
            }
            h1 {
                font-size: 2.8rem;
            }
            .content {
                padding: 20px;
            }
            .game-board {
                height: 350px;
            }
            .animal {
                font-size: 3rem;
            }
            .balance-game {
                flex-direction: column;
            }
            .equation-side, .balance-container {
                width: 100%;
                margin-bottom: 25px;
            }
            .balance-container {
                height: 250px;
            }
            .monsters-container {
                gap: 20px;
            }
            .monster-body {
                font-size: 4rem;
            }
            
            .balance-container-eq {
                height: 250px;
            }
            
            .left-plate-eq, .right-plate-eq {
                width: 90px;
                height: 90px;
                top: -45px;
            }
            
            .animal-icon-eq {
                font-size: 2rem;
            }
            
            .animal-value-eq {
                font-size: 1rem;
            }
            
            .animal-block-eq {
                min-width: 70px;
            }
        }
    </style>
</head>
<body>
    <!-- Futuristic 3D Animated Loader -->
    <div class="loader-container" id="loader">
        <div class="matrix-bg" id="matrix-bg"></div>
        <div class="orb">🐾</div>
        <div class="loading-progress">
            <div class="progress-fill" id="progress-fill"></div>
        </div>
        <div class="loading-info">
            <div class="loader-text">Cargando Aventura Matemática...</div>
            <div class="percentage" id="percentage">0%</div>
        </div>
        <div class="system-status" id="system-status">
            <div class="status-item" id="status-init">Preparando animales matemáticos...</div>
            <div class="status-item" id="status-load">Cargando juegos divertidos...</div>
            <div class="status-item" id="status-games">Creando aventuras de aprendizaje...</div>
            <div class="status-item" id="status-ui">Decorando el parque matemático...</div>
            <div class="status-item" id="status-complete">¡Todo listo para divertirse aprendiendo!</div>
        </div>
    </div>
    <div class="container">
        <header>
            <h1><i class="fas fa-paw"></i> Sistemas de Ecuaciones con Animales</h1>
            <p class="subtitle">Aprende de manera divertida los sistemas de ecuaciones con la ayuda de animales y juegos interactivos</p>
        </header>
        <div class="tabs">
            <div class="tab active" data-tab="intro"><i class="fas fa-home"></i> Introducción</div>
            <div class="tab" data-tab="methods"><i class="fas fa-cogs"></i> Métodos</div>
            <div class="tab" data-tab="graphing"><i class="fas fa-chart-line"></i> Graficación</div>
            <div class="tab" data-tab="substitution"><i class="fas fa-exchange-alt"></i> Sustitución</div>
            <div class="tab" data-tab="equalization"><i class="fas fa-balance-scale"></i> Igualación</div>
            <div class="tab" data-tab="elimination"><i class="fas fa-trash-alt"></i> Eliminación</div>
            <div class="tab" data-tab="games"><i class="fas fa-gamepad"></i> Juegos</div>
        </div>
        <div class="content">
            <!-- Variables Display -->
            <div class="variables-display">
                <h3>Recuerda nuestros animales:</h3>
                <div class="variable-item">
                    <span class="variable-icon">🐶</span> Perro = 4
                </div>
                <div class="variable-item">
                    <span class="variable-icon">🐱</span> Gato = 2
                </div>
            </div>
            
            <!-- Introducción Tab -->
            <div class="tab-content active" id="intro">
                <div class="section">
                    <h2><i class="fas fa-book"></i> ¿Qué es un Sistema de Ecuaciones con Animales?</h2>
                    <p>Un sistema de ecuaciones de 2x2 es un conjunto de dos ecuaciones lineales con dos incógnitas (por lo general, X y Y), pero también donde usamos animales en lugar de números. 
                    Cada animal tiene un valor especial que debemos descubrir.</p>
                    
                    <div class="equation">
                        🐶 + 🐱 = 6<br>
                        🐶 - 🐱 = 2
                    </div>
                    
                    <p>En este ejemplo, tenemos dos ecuaciones con nuestros amigos el perro y el gato. 
                    Nuestro objetivo es descubrir cuánto vale cada animal.</p>
                    
                    <div class="info-box">
                        <h3><i class="fas fa-info-circle"></i> Importancia</h3>
                        <p>🔍 Ayuda a resolver problemas de la vida real<br>
                       🧠 Desarrolla el pensamiento lógico<br>
                       💼 Se usa en negocios, compras y repartos<br>
                       📊 Es la base para matemáticas más avanzadas</p>
                    </div>
                </div>
                <div class="section">
                    <h2><i class="fas fa-puzzle-piece"></i> Componentes de un Sistema con Animales</h2>
                    <p>Cada sistema de ecuaciones con animales tiene:</p>
                    <ul class="steps">
                        <li><strong>Animales:</strong> En lugar de X e Y, usamos 🐶 y 🐱 que son nuestras incógnitas.</li>
                        <li><strong>Valores:</strong> Cada animal tiene un número secreto que debemos descubrir.</li>
                        <li><strong>Operaciones:</strong> Usamos sumas, restas y otras operaciones para relacionar a los animales.</li>
                    </ul>
                    <div class="image-gallery">
                        <div class="image-container">
                            <img src="https://i.ytimg.com/vi/roVotoOu078/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLDYP3JoeTVq2N7ktuDmTnyOBrjHpg" alt="Animales matemáticos">
                            <div class="image-caption">Animales que nos ayudarán a aprender</div>
                        </div>
                        <div class="image-container">
                            <img src="https://i.ytimg.com/vi/NexxgFn2UXs/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLBgaIKgeVV3r__JXjyKU-9QeHdDjg" alt="Niños aprendiendo">
                            <div class="image-caption">Aprendiendo con animales</div>
                        </div>
                        <div class="image-container">
                            <img src="https://i.ytimg.com/vi/od-fDDLPcas/sddefault.jpg" alt="Aplicaciones reales">
                            <div class="image-caption">Sistema de Ecuaciones de 2x2</div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Métodos de Resolución Tab -->
            <div class="tab-content" id="methods">
                <div class="section">
                    <h2><i class="fas fa-tools"></i> Métodos para Resolver con Animales</h2>
                    <p>Existen varios métodos para resolver sistemas con animales. Cada uno tiene sus ventajas:</p>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Método</th>
                                <th>Descripción</th>
                                <th>Ventajas</th>
                                <th>Desventajas</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Gráfica</td>
                                <td>Dibujar las ecuaciones como caminos</td>
                                <td>Visual, divertido</td>
                                <td>No siempre exacto</td>
                            </tr>
                            <tr>
                                <td>Sustitución</td>
                                <td>Cambiar un animal por su valor</td>
                                <td>Fácil para sistemas simples</td>
                                <td>Puede ser complicado</td>
                            </tr>
                            <tr>
                                <td>Igualación</td>
                                <td>Igualar las expresiones</td>
                                <td>Útil con valores iguales</td>
                                <td>No siempre funciona</td>
                            </tr>
                            <tr>
                                <td>Eliminación</td>
                                <td>Quitar un animal</td>
                                <td>Generalmente rápido</td>
                                <td>Necesita cálculos</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="section">
                    <h2><i class="fas fa-gamepad"></i> Juego: Aventura de los Animales</h2>
                    <div class="game-container">
                        <h3 class="game-title">¡Ayuda a los animales a resolver sus problemas!</h3>
                        <p class="game-description">Cada animal necesita tu ayuda para resolver su ecuación:</p>
                        <div class="game-grid">
                            <div class="game-card hero-card">
                                <div class="hero">
                                    <div class="hero-icon">
                                        🐶
                                    </div>
                                    <div class="hero-name">Perro Problema</div>
                                </div>
                                <div class="challenge">
                                    <div class="equation-box">
                                        🐶 + 🐱 = 6<br>
                                        2🐶 - 🐱 = 6
                                    </div>
                                    <div class="question">¿Qué método usarías?</div>
                                    <div class="options">
                                        <button class="option-btn" data-system="1" data-method="graph">
                                            <i class="fas fa-chart-line"></i> Gráfica
                                        </button>
                                        <button class="option-btn" data-system="1" data-method="substitution">
                                            <i class="fas fa-exchange-alt"></i> Sustitución
                                        </button>
                                        <button class="option-btn" data-system="1" data-method="elimination">
                                            <i class="fas fa-trash-alt"></i> Eliminación
                                        </button>
                                    </div>
                                </div>
                                <div class="result-box" id="result-1"></div>
                            </div>
                            <div class="game-card hero-card">
                                <div class="hero">
                                    <div class="hero-icon">
                                        🐱
                                    </div>
                                    <div class="hero-name">Gato Difícil</div>
                                </div>
                                <div class="challenge">
                                    <div class="equation-box">
                                        3🐶 + 2🐱 = 16<br>
                                        2🐶 - 3🐱 = 2
                                    </div>
                                    <div class="question">¿Qué método usarías?</div>
                                    <div class="options">
                                        <button class="option-btn" data-system="2" data-method="graph">
                                            <i class="fas fa-chart-line"></i> Gráfica
                                        </button>
                                        <button class="option-btn" data-system="2" data-method="substitution">
                                            <i class="fas fa-exchange-alt"></i> Sustitución
                                        </button>
                                        <button class="option-btn" data-system="2" data-method="elimination">
                                            <i class="fas fa-trash-alt"></i> Eliminación
                                        </button>
                                    </div>
                                </div>
                                <div class="result-box" id="result-2"></div>
                            </div>
                            <div class="game-card hero-card">
                                <div class="hero">
                                    <div class="hero-icon">
                                        🐰
                                    </div>
                                    <div class="hero-name">Conejo Especial</div>
                                </div>
                                <div class="challenge">
                                    <div class="equation-box">
                                        🐶 - 2🐱 = 0<br>
                                        3🐶 - 6🐱 = 0
                                    </div>
                                    <div class="question">¿Qué método usarías?</div>
                                    <div class="options">
                                        <button class="option-btn" data-system="3" data-method="graph">
                                            <i class="fas fa-chart-line"></i> Gráfica
                                        </button>
                                        <button class="option-btn" data-system="3" data-method="substitution">
                                            <i class="fas fa-exchange-alt"></i> Sustitución
                                        </button>
                                        <button class="option-btn" data-system="3" data-method="elimination">
                                            <i class="fas fa-trash-alt"></i> Eliminación
                                        </button>
                                    </div>
                                </div>
                                <div class="result-box" id="result-3"></div>
                            </div>
                        </div>
                        <div class="game-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progress-fill"></div>
                            </div>
                            <div class="score-display">
                                <i class="fas fa-star"></i> Puntos: <span id="score">0</span> / 3
                            </div>
                            <button id="reset-methods-game" class="btn btn-secondary">
                                <i class="fas fa-redo"></i> Reiniciar Aventura
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Graficación Tab -->
            <div class="tab-content" id="graphing">
                <div class="section">
                    <h2><i class="fas fa-chart-line"></i> Resolución por Graficación con Animales</h2>
                    <p>El método gráfico con animales es como dibujar un mapa donde cada animal sigue un camino. 
                    Donde se cruzan los caminos, encontramos la solución.</p>
                    
                    <div class="equation">
                        Camino 1: 🐶 + 🐱 = 6<br>
                        Camino 2: 🐶 - 🐱 = 2
                    </div>
                    
                    <p>Algunos pasos que puedes seguir son:</p>
                    <ul class="steps">
                        <li>Dibujar el camino de cada animal</li>
                        <li>Buscar dónde se cruzan los caminos</li>
                        <li>Descubrir el valor de cada animal en ese punto</li>
                    </ul>
                    
                    <div class="info-box">
                        <h3><i class="fas fa-exclamation-triangle"></i> Importante</h3>
                        <ul class="steps">
                           1.➡️ Resuelve problemas de la vida diaria
Se usa para resolver situaciones donde hay dos cosas desconocidas, como precios, cantidades, edades, etc.
<br>
2.🧠 Desarrolla el pensamiento lógico
Ayuda a razonar paso a paso, a organizar información y a tomar decisiones.
<br>
3.💼 Se aplica en muchas profesiones
Ingenieros, contadores, economistas y científicos usan estos sistemas para analizar y decidir.
<br>
4.📊 Base para temas más avanzados
Es el inicio para aprender álgebra más compleja, programación y gráficos.
<br>
5.🏫 Importante en la educación
Ayuda a entender cómo se relacionan dos variables y cómo resolverlas al mismo tiempo.
                        </ul>
                    </div>
                </div>
                <div class="section">
                    <h2><i class="fas fa-image"></i> Visualización Gráfica</h2>
                    <div class="image-gallery">
                        <div class="image-container">
                            <img src="https://i.ytimg.com/vi/eSyxux-WeZY/maxresdefault.jpg" alt="Gráfica de sistema">
                            <div class="image-caption">Caminos que se cruzan</div>
                        </div>
                        <div class="image-container">
                            <img src="https://i.ytimg.com/vi/QU2Qbp5v5d4/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLBvbMTwbqenznpCG_C4RL6sg3mI0A" alt="Pendiente-intercepto">
                            <div class="image-caption">Dirección de los caminos</div>
                        </div>
                        <div class="image-container">
                            <img src="https://screens.cdn.wordwall.net/400/e38366ce59a448759d4848b612804e42_0" alt="Animales">
                            <div class="image-caption">Nuestros amigos animales</div>
                        </div>
                    </div>
                    <div class="section">
                        <h2><i class="fas fa-gamepad"></i> Juego: Encuentro de Animalitos</h2>
                        <div class="game-container">
                            <h3 class="game-title">¡Ayuda a los animalitos a encontrarse!</h3>
                            <p class="game-description">Arrastra el perrito y el gatito al punto correcto donde se cruzan sus caminos.</p>
                            <div class="animal-game">
                                <div class="animal-controls">
                                    <div class="equation-display">
                                        Camino 1: 🐱 = 🐶 + 1
                                    </div>
                                    <div class="equation-display">
                                        Camino 2: 🐱 = -🐶 + 5
                                    </div>
                                </div>
                                <div class="game-board" id="game-board">
                                    <div class="grid-overlay" id="grid-overlay"></div>
                                    <div class="target-zone" id="target-zone" style="top: 30%; left: 50%;">
                                        <i class="fas fa-heart" style="color: var(--success); font-size: 2.5rem;"></i>
                                    </div>
                                    <div class="animal" id="dog" style="top: 80%; left: 20%;">
                                        🐶
                                    </div>
                                    <div class="animal" id="cat" style="top: 20%; left: 80%;">
                                        🐱
                                    </div>
                                    <div class="celebration" id="celebration"></div>
                                </div>
                                <div class="game-result" id="game-result"></div>
                                <div style="margin-top: 25px;">
                                    <button id="check-answer" class="btn">
                                        <i class="fas fa-check"></i> Verificar
                                    </button>
                                    <button id="reset-graph-game" class="btn btn-secondary">
                                        <i class="fas fa-redo"></i> Reiniciar
                                    </button>
                                    <button id="hint-btn" class="hint-btn">
                                        <i class="fas fa-lightbulb"></i> Pista
                                    </button>
                                </div>
                                <div class="hint-text" id="hint-text">
                                    ¡Los animalitos deben encontrarse en el punto (2, 3)! 
                                    Arrastra el perrito y el gatito al centro del corazón verde.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Sustitución Tab -->
            <div class="tab-content" id="substitution">
                <div class="section">
                    <h2><i class="fas fa-exchange-alt"></i> Método de Sustitución con Animales</h2>
                    <p>Es como cambiar un animal por su valor en una ecuación. 
                    Primero descubrimos cuánto vale un animal y luego lo usamos en la otra ecuación.</p>
                    
                    <div class="equation">
                        ✏️ Pasos del método de sustitución:
                        <br>
                      1. Descubre cuánto vale un animal en una ecuación.
<br>
2. Cambia ese animal por su valor en la otra ecuación.
<br>
3. Resuelve la ecuación que queda con un solo animal.
<br>
4. Usa el valor encontrado para descubrir el otro animal.
<br>
5. Verifica que los valores funcionen en ambas ecuaciones.
                    </div>
                    
                    <p><strong>Ejemplo:</strong><br>
                    🐶 + 🐱 = 6 (Ecuación 1)<br>
                    🐶 - 🐱 = 2 (Ecuación 2)</p>
                    
                    <p>solución:<br>
                    🐶 = 4, 🐱 = 2</p>
                    
                    <div class="info-box">
                        <h3><i class="fas fa-lightbulb"></i> 🧠 5 Consejos útiles para resolver con animales</h3>
                        <p>
✅ Elige la ecuación más fácil para empezar
Si alguna ecuación tiene un animal solo, comienza por ahí.
<br>
✍️ Cambia el animal con cuidado
Cuando reemplazes un animal por su valor, asegúrate de hacerlo correctamente.
<br>
🧩 Resuelve paso a paso
Realiza cada operación con calma para evitar errores.
<br>
📌 Verifica tu respuesta
Sustituye los valores de los animales en ambas ecuaciones originales.
<br>
📓 Practica con ejemplos fáciles primero
Comienza con números pequeños para dominar el método.</p>
                    </div>
                </div>
                <div class="section">
                    <h2><i class="fas fa-gamepad"></i> Juego: Sustitución Rápida</h2>
                    <div class="game-container">
                        <h3 class="game-title">Encuentra el Valor Correcto</h3>
                        <p class="game-description">Resuelve el sistema usando sustitución:</p>
                        <div style="font-size: 1.5rem; margin: 25px 0;">
                            🐶 = 2🐱 - 1<br>
                            3🐶 + 🐱 = 11
                        </div>
                        <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; margin: 25px 0;">
                            <button class="btn answer-btn" data-answer="🐶=2, 🐱=3">🐶=2, 🐱=3</button>
                            <button class="btn answer-btn" data-answer="🐶=3, 🐱=2">🐶=3, 🐱=2</button>
                            <button class="btn answer-btn" data-answer="🐶=4, 🐱=2">🐶=4, 🐱=2</button>
                            <button class="btn answer-btn" data-answer="🐶=2, 🐱=4">🐶=2, 🐱=4</button>
                        </div>
                        <div id="substitution-result" style="margin-top: 25px; font-size: 1.4rem;"></div>
                        <button id="retry-substitution-btn" class="btn" style="display: none; margin-top: 20px;">
                            <i class="fas fa-redo"></i> Volver a intentar
                        </button>
                    </div>
                </div>
            </div>
            <!-- Igualación Tab -->
            <div class="tab-content" id="equalization">
                <div class="section">
                    <h2><i class="fas fa-balance-scale"></i> Método de Igualación con Animales</h2>
                    <p>El método de igualación consiste en despejar el mismo animal en ambas ecuaciones y luego igualar las expresiones.</p>
                    
                    <div class="equation">
                        1. Despejar el mismo animal en ambas ecuaciones<br>
                        2. Igualar las expresiones<br>
                        3. Resolver para un animal<br>
                        4. Sustituir para encontrar el otro animal
                    </div>
                    
                    <p><strong>Ejemplo:</strong><br>
                    🐶 + 🐱 = 6<br>
                    🐶 - 🐱 = 2</p>
                    
                    <p>Paso 1: De la primera: 🐶 = 6 - 🐱<br>
                    De la segunda: 🐶 = 2 + 🐱<br>
                    Paso 2: 6 - 🐱 = 2 + 🐱<br>
                    Paso 3: 6 - 2 = 🐱 + 🐱 → 4 = 2🐱 → 🐱 = 2<br>
                    Paso 4: 🐶 = 6 - 2 = 4</p>
                    
                    <div class="image-gallery">
                        <div class="image-container">
                            <img src="https://i.ytimg.com/vi/NgY81umzogY/maxresdefault.jpg" alt="Igualación">
                            <div class="image-caption">Igualando expresiones</div>
                        </div>
                        <div class="image-container">
                            <img src="https://cdn.fisimat.com.mx/wp-content/uploads/2015/05/despeje.png" alt="Animales">
                            <div class="image-caption">Animales iguales</div>
                        </div>
                    </div>
                </div>
                <div class="section">
                    <h2><i class="fas fa-gamepad"></i> Juego: Balanza de Animales</h2>
                    <div class="game-container">
                        <h3 class="game-title">¡Equilibra la Balanza con Animales!</h3>
                        <p class="game-description">Arrastra los animales a cada lado de la balanza. Cuando ambos lados tengan el mismo valor, la balanza se equilibrará.</p>
                        
                        <div class="equalization-game">
                            <div class="balance-container-eq">
                                <div class="balance-beam-eq" id="animal-balance-beam-eq">
                                    <div class="balance-plate-eq left-plate-eq" id="left-plate-eq">
                                        <div class="plate-animals-eq" id="left-animals-eq"></div>
                                    </div>
                                    <div class="balance-plate-eq right-plate-eq" id="right-plate-eq">
                                        <div class="plate-animals-eq" id="right-animals-eq"></div>
                                    </div>
                                </div>
                                <div class="balance-stand-eq"></div>
                                <div class="balance-base-eq"></div>
                            </div>
                            
                            <div class="balance-values-eq">
                                <div class="value-display-eq">
                                    <i class="fas fa-weight"></i> Izquierda: <span id="left-value-eq">0</span>
                                </div>
                                <div class="value-display-eq">
                                    <i class="fas fa-weight"></i> Derecha: <span id="right-value-eq">0</span>
                                </div>
                            </div>
                            
                            <div class="animals-container-eq">
                                <h4>Animales disponibles:</h4>
                                <div class="draggable-animals-eq">
                                    <div class="animal-block-eq" draggable="true" data-value="1">
                                        <div class="animal-icon-eq">🐦</div>
                                        <div class="animal-value-eq">1</div>
                                    </div>
                                    <div class="animal-block-eq" draggable="true" data-value="2">
                                        <div class="animal-icon-eq">🐱</div>
                                        <div class="animal-value-eq">2</div>
                                    </div>
                                    <div class="animal-block-eq" draggable="true" data-value="3">
                                        <div class="animal-icon-eq">🐶</div>
                                        <div class="animal-value-eq">3</div>
                                    </div>
                                    <div class="animal-block-eq" draggable="true" data-value="4">
                                        <div class="animal-icon-eq">🐷</div>
                                        <div class="animal-value-eq">4</div>
                                    </div>
                                    <div class="animal-block-eq" draggable="true" data-value="5">
                                        <div class="animal-icon-eq">🐮</div>
                                        <div class="animal-value-eq">5</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="game-controls-eq">
                                <button id="check-animal-balance-eq" class="btn">
                                    <i class="fas fa-balance-scale"></i> Verificar Equilibrio
                                </button>
                                <button id="reset-animal-balance-eq" class="btn btn-secondary">
                                    <i class="fas fa-redo"></i> Reiniciar
                                </button>
                                <button id="hint-animal-balance-eq" class="hint-btn">
                                    <i class="fas fa-lightbulb"></i> Pista
                                </button>
                            </div>
                            
                            <div class="hint-text-eq" id="hint-animal-balance-text-eq">
                                ¡Recuerda que cada animal tiene un valor diferente! Intenta combinar animales para que ambos lados tengan el mismo valor total.
                                Por ejemplo: un perro (3) + un gato (2) = un cerdo (4) + un pájaro (1)
                            </div>
                            
                            <div class="game-result-eq" id="animal-balance-result-eq"></div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Eliminación Tab -->
            <div class="tab-content" id="elimination">
                <div class="section">
                    <h2><i class="fas fa-trash-alt"></i> Método de Eliminación con Animales</h2>
                    <p>El método de eliminación consiste en sumar o restar las ecuaciones para eliminar un animal.</p>
                    
                    <div class="equation">
                        1. Multiplicar ecuaciones si es necesario<br>
                        2. Sumar o restar las ecuaciones para eliminar un animal<br>
                        3. Resolver para el animal restante<br>
                        4. Sustituir para encontrar el otro animal
                    </div>
                    
                    <p><strong>Ejemplo:</strong><br>
                    2🐶 + 3🐱 = 14<br>
                    4🐶 - 3🐱 = 10</p>
                    
                    <p>Paso 1: Los coeficientes de 🐱 ya son opuestos<br>
                    Paso 2: Sumar las ecuaciones: (2🐶 + 4🐶) + (3🐱 - 3🐱) = 14 + 10 → 6🐶 = 24<br>
                    Paso 3: 🐶 = 4<br>
                    Paso 4: 2(4) + 3🐱 = 14 → 8 + 3🐱 = 14 → 3🐱 = 6 → 🐱 = 2</p>
                    
                    <div class="info-box">
                        <h3><i class="fas fa-star"></i> Ventaja</h3>
                        <p>➕ Es directo y ordenado:
Te permite eliminar un animal al sumar o restar las ecuaciones.
<br>
🧮 Ideal cuando los animales ya tienen valores opuestos:
Si un animal tiene los mismos números pero con signos contrarios.
<br>
🧠 Ayuda a evitar fracciones desde el inicio:
En muchos casos, puedes resolver todo con números enteros.
<br>
⚙️ Fácil de aplicar a sistemas más grandes:
El mismo método se puede extender a sistemas con más animales.
<br>
🔁 Menos pasos de sustitución o despeje:
Aquí trabajas con las ecuaciones completas, lo que ahorra tiempo.</p>
                    </div>
                </div>
                <div class="section">
                    <h2><i class="fas fa-gamepad"></i> Juego: Elimina el Monstruo de las Ecuaciones</h2>
                    <div class="game-container">
                        <h3 class="game-title">¡Ayuda a los héroes a eliminar al monstruo!</h3>
                        <p class="game-description">Encuentra el número mágico que ayudará a eliminar al gato:</p>
                        <div class="monster-game">
                            <div class="equations-container">
                                <div class="equation-card">
                                    <div class="equation-title">Ecuación 1</div>
                                    <div class="equation-text">3🐶 + 2🐱 = 16</div>
                                </div>
                                <div class="equation-card">
                                    <div class="equation-title">Ecuación 2</div>
                                    <div class="equation-text">5🐶 - 4🐱 = 14</div>
                                </div>
                            </div>
                            <div class="game-instruction">
                                <p>¿Por qué número debemos multiplicar la primera ecuación para eliminar al gato?</p>
                                <div class="hint">¡Recuerda que necesitamos que los valores del gato sean opuestos!</div>
                            </div>
                            <div class="monsters-container">
                                <div class="monster" data-value="2">
                                    <div class="monster-body">👾</div>
                                    <div class="monster-number">2</div>
                                </div>
                                <div class="monster" data-value="3">
                                    <div class="monster-body">👻</div>
                                    <div class="monster-number">3</div>
                                </div>
                                <div class="monster" data-value="4">
                                    <div class="monster-body">👹</div>
                                    <div class="monster-number">4</div>
                                </div>
                                <div class="monster" data-value="5">
                                    <div class="monster-body">👺</div>
                                    <div class="monster-number">5</div>
                                </div>
                            </div>
                            <div class="game-result" id="monster-result"></div>
                            <div class="game-controls">
                                <button id="reset-monster-game" class="btn btn-secondary">
                                    <i class="fas fa-redo"></i> Reiniciar Juego
                                </button>
                                <button id="hint-monster-btn" class="hint-btn">
                                    <i class="fas fa-lightbulb"></i> Pista
                                </button>
                            </div>
                            <div class="hint-text" id="monster-hint-text">
                                ¡Busca el número que hará que 2🐱 se convierta en 4🐱! Así tendrás 4🐱 en la primera ecuación y -4🐱 en la segunda.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Juegos Tab -->
            <div class="tab-content" id="games">
                <div class="section">
                    <h2><i class="fas fa-gamepad"></i> Colección de Juegos</h2>
                    <p>¡Diviértete mientras aprendes con estos juegos sobre sistemas de ecuaciones con animales!</p>
                    <div class="game-grid">
                        <div class="game-card">
                            <h3>Busca la Figura</h3>
                            <p>Encuentra la figura en el plano cartesiano.</p>
                            <a href="https://wordwall.net/es/resource/31752059/plano-cartesiano" class="btn">Jugar</a>
                        </div>
                        <div class="game-card">
                            <h3>Cajas de Animales</h3>
                            <p>Selecciona la caja para resolver las preguntas.</p>
                            <a href="https://wordwall.net/es/resource/3972227/sistemas-de-ecuaciones" class="btn">Jugar</a>
                        </div>
                        <div class="game-card">
                            <h3>Sistemas Mágicas</h3>
                            <p>Resuelve sistemas con preguntas básicas.</p>
                            <a href="https://wordwall.net/es/resource/33311149/sistema-de-ecuaciones-intro" class="btn">Jugar</a>
                        </div>
                        <div class="game-card">
                            <h3>Carrera de Ecuaciones</h3>
                            <p>Resuelve sistemas rápidamente para ganar.</p>
                            <a href="https://wordwall.net/es/resource/33401198/sistemas-de-ecuaciones-2x2" class="btn">Jugar</a>
                        </div>
                    
                        <div class="game-card">
                            <h3>Detetive Matemático</h3>
                            <p>Resuelve casos usando sistemas de ecuaciones.</p>
                            <a href="https://wordwall.net/es/resource/76941981/sistema-de-ecuaciones" class="btn">Jugar</a>
                        </div>
                    </div>
                </div>
        
        <footer>
            <p>© 2025 Sistemas de Ecuaciones con Animales | Diseñado para que todos puedan aprender matemáticas de forma divertida</p>
        </footer>
    </div>
    <script>
        // Enhanced 3D Futuristic Loader functionality
        window.addEventListener('load', function() {
            const loader = document.getElementById('loader');
            const container = document.querySelector('.container');
            const matrixBg = document.getElementById('matrix-bg');
            const orb = document.querySelector('.orb');
            const progressFill = document.getElementById('progress-fill');
            const percentage = document.getElementById('percentage');
            const statusInit = document.getElementById('status-init');
            const statusLoad = document.getElementById('status-load');
            const statusGames = document.getElementById('status-games');
            const statusUi = document.getElementById('status-ui');
            const statusComplete = document.getElementById('status-complete');
            
            // Create matrix rain effect
            function createMatrixRain() {
                const width = window.innerWidth;
                const columns = Math.floor(width / 20);
                
                for (let i = 0; i < columns; i++) {
                    const column = document.createElement('div');
                    column.className = 'matrix-column';
                    column.style.left = `${i * 20}px`;
                    column.style.animationDelay = `${Math.random() * 5}s`;
                    column.style.animationDuration = `${Math.random() * 3 + 2}s`;
                    
                    // Add random characters
                    let content = '';
                    const length = Math.floor(Math.random() * 20) + 10;
                    for (let j = 0; j < length; j++) {
                        content += String.fromCharCode(Math.floor(Math.random() * 30) + 65);
                    }
                    column.textContent = content;
                    
                    matrixBg.appendChild(column);
                }
            }
            
            // Create floating particles
            function createParticles() {
                for (let i = 0; i < 20; i++) {
                    setTimeout(() => {
                        const particle = document.createElement('div');
                        particle.className = 'particle';
                        particle.style.left = `${Math.random() * 100}%`;
                        particle.style.top = `${Math.random() * 100}%`;
                        particle.style.opacity = '0';
                        particle.style.animation = `particle-float ${Math.random() * 3 + 2}s ease-out forwards`;
                        particle.style.animationDelay = `${Math.random() * 2}s`;
                        
                        // Random color from theme
                        const colors = ['#9c64a6', '#64b5f6', '#ffb74d', '#80cbc4'];
                        particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                        
                        document.body.appendChild(particle);
                        
                        // Remove after animation
                        setTimeout(() => {
                            if (particle.parentNode) {
                                particle.remove();
                            }
                        }, 5000);
                    }, i * 200);
                }
            }
            
            // Update loading progress
            function updateProgress(percentageValue, delay = 0) {
                setTimeout(() => {
                    progressFill.style.width = `${percentageValue}%`;
                    percentage.textContent = `${percentageValue}%`;
                }, delay);
            }
            
            // Show status items
            function showStatus(item, delay = 0) {
                setTimeout(() => {
                    item.classList.add('active');
                }, delay);
            }
            
            // Initialize effects
            createMatrixRain();
            createParticles();
            
            // Simulate loading sequence
            updateProgress(20, 200);
            showStatus(statusInit, 300);
            
            setTimeout(() => {
                updateProgress(40, 200);
                showStatus(statusLoad, 300);
            }, 1500);
            
            setTimeout(() => {
                updateProgress(70, 200);
                showStatus(statusGames, 300);
            }, 3000);
            
            setTimeout(() => {
                updateProgress(90, 200);
                showStatus(statusUi, 300);
            }, 4500);
            
            // Final phase
            setTimeout(() => {
                updateProgress(100, 200);
                showStatus(statusComplete, 300);
                
                // Final pulse before hiding
                orb.style.transform = 'scale(1.2)';
                
                setTimeout(() => {
                    loader.style.opacity = '0';
                    container.style.opacity = '1';
                    container.style.pointerEvents = 'auto';
                    
                    setTimeout(() => {
                        loader.style.display = 'none';
                    }, 500);
                }, 800);
            }, 6000);
        });
        
        // Cambio de pestañas
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.getAttribute('data-tab');
                // Desactivar todas las pestañas
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));
                // Activar la pestaña actual
                tab.classList.add('active');
                document.getElementById(tabId).classList.add('active');
            });
        });
        
        // Juego de métodos
        const optionButtons = document.querySelectorAll('.option-btn');
        const scoreElement = document.getElementById('score');
        const progressFill = document.getElementById('progress-fill');
        const resetMethodsButton = document.getElementById('reset-methods-game');
        const successMessage = document.createElement('div');
        successMessage.className = 'success-message';
        successMessage.innerHTML = '<i class="fas fa-trophy"></i> ¡Felicidades! Has completado la aventura';
        document.body.appendChild(successMessage);
        let score = 0;
        let completedSystems = new Set();
        
        // Respuestas correctas para cada sistema
        const correctAnswers = {
            1: 'elimination',  // Para 🐶 + 🐱 = 6, 2🐶 - 🐱 = 6 -> Eliminación es más eficiente
            2: 'substitution', // Para 3🐶 + 2🐱 = 16, 2🐶 - 3🐱 = 2 -> Sustitución es buena opción
            3: 'graph'         // Para 🐶 - 2🐱 = 0, 3🐶 - 6🐱 = 0 -> Gráfica muestra que son la misma recta
        };
        
        // Explicaciones para cada respuesta
        const explanations = {
            1: {
                elimination: "¡Excelente! La eliminación es perfecta aquí porque los coeficientes de '🐱' son opuestos.",
                substitution: "La sustitución también funciona, pero requiere más pasos que la eliminación.",
                graph: "El método gráfico no es preciso para encontrar valores exactos."
            },
            2: {
                elimination: "La eliminación funcionaría, pero requiere multiplicar las ecuaciones.",
                substitution: "¡Perfecto! La sustitución es eficiente aquí porque puedes despejar fácilmente un animal.",
                graph: "El método gráfico no es preciso para encontrar valores exactos."
            },
            3: {
                elimination: "La eliminación mostraría que las ecuaciones son dependientes.",
                substitution: "La sustitución también mostraría que las ecuaciones son dependientes.",
                graph: "¡Correcto! El método gráfico muestra claramente que ambas ecuaciones representan la misma recta."
            }
        };
        
        // Event listeners para los botones de opción
        optionButtons.forEach(button => {
            button.addEventListener('click', function() {
                const system = this.getAttribute('data-system');
                const method = this.getAttribute('data-method');
                const resultBox = document.getElementById(`result-${system}`);
                
                // Si ya se completó este sistema, no hacer nada
                if (completedSystems.has(system)) return;
                
                // Deshabilitar todos los botones de este sistema
                const systemButtons = document.querySelectorAll(`[data-system="${system}"]`);
                systemButtons.forEach(btn => btn.disabled = true);
                
                // Verificar si la respuesta es correcta
                if (method === correctAnswers[system]) {
                    this.classList.add('correct');
                    resultBox.innerHTML = `<div style="color: var(--success); background: rgba(102, 187, 106, 0.2); padding: 15px; border-radius: 15px;"><i class="fas fa-check-circle"></i> ${explanations[system][method]}</div>`;
                    
                    // Incrementar puntuación
                    score++;
                    scoreElement.textContent = score;
                    completedSystems.add(system);
                    
                    // Actualizar barra de progreso
                    const progress = (score / 3) * 100;
                    progressFill.style.width = `${progress}%`;
                    
                    // Crear partículas de celebración
                    createParticles(this);
                    
                    // Si se completaron todos los sistemas, mostrar mensaje de éxito
                    if (score === 3) {
                        setTimeout(() => {
                            successMessage.style.display = 'block';
                            createConfetti();
                            // Ocultar mensaje después de 3 segundos
                            setTimeout(() => {
                                successMessage.style.display = 'none';
                            }, 3000);
                        }, 500);
                    }
                } else {
                    this.classList.add('incorrect');
                    resultBox.innerHTML = `<div style="color: var(--warning); background: rgba(255, 183, 77, 0.2); padding: 15px; border-radius: 15px;"><i class="fas fa-times-circle"></i> ${explanations[system][method]}</div>`;
                }
            });
        });
        
        // Función para crear partículas
        function createParticles(element) {
            const rect = element.getBoundingClientRect();
            const colors = ['#9c64a6', '#64b5f6', '#ffb74d', '#80cbc4'];
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    particle.style.left = `${rect.left + rect.width / 2}px`;
                    particle.style.top = `${rect.top + rect.height / 2}px`;
                    particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    document.body.appendChild(particle);
                    
                    // Eliminar la partícula después de la animación
                    setTimeout(() => {
                        particle.remove();
                    }, 2000);
                }, i * 30);
            }
        }
        
        // Función para crear confeti
        function createConfetti() {
            const colors = ['#9c64a6', '#64b5f6', '#ffb74d', '#80cbc4'];
            for (let i = 0; i < 100; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.style.position = 'fixed';
                    confetti.style.width = `${Math.random() * 10 + 5}px`;
                    confetti.style.height = `${Math.random() * 10 + 5}px`;
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.left = `${Math.random() * 100}%`;
                    confetti.style.top = `-10px`;
                    confetti.style.opacity = Math.random();
                    confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                    confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                    document.body.appendChild(confetti);
                    
                    // Animación de caída
                    let position = -10;
                    const speed = Math.random() * 3 + 2;
                    const rotation = Math.random() * 10 - 5;
                    const fallInterval = setInterval(() => {
                        position += speed;
                        confetti.style.top = `${position}px`;
                        confetti.style.transform += ` rotate(${rotation}deg)`;
                        if (position > window.innerHeight) {
                            clearInterval(fallInterval);
                            confetti.remove();
                        }
                    }, 20);
                }, i * 30);
            }
        }
        
        // Función para reiniciar el juego de métodos
        resetMethodsButton.addEventListener('click', function() {
            // Reiniciar puntuación
            score = 0;
            scoreElement.textContent = score;
            completedSystems.clear();
            progressFill.style.width = '0%';
            
            // Habilitar todos los botones y quitar clases
            optionButtons.forEach(button => {
                button.disabled = false;
                button.classList.remove('correct', 'incorrect');
            });
            
            // Limpiar resultados
            document.querySelectorAll('.result-box').forEach(result => {
                result.innerHTML = '';
            });
        });
        
        // Juego de sustitución
        const substitutionAnswerBtns = document.querySelectorAll('#substitution .answer-btn');
        const substitutionResultDiv = document.getElementById('substitution-result');
        const substitutionRetryBtn = document.getElementById('retry-substitution-btn');
        
        // Función para reiniciar el juego de sustitución
        function resetSubstitutionGame() {
            substitutionResultDiv.innerHTML = '';
            substitutionRetryBtn.style.display = 'none';
            substitutionAnswerBtns.forEach(btn => {
                btn.disabled = false;
                btn.classList.remove('correct', 'incorrect');
            });
        }
        
        // Event listener para los botones de respuesta de sustitución
        substitutionAnswerBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                // Deshabilitamos los botones para evitar múltiples clics
                substitutionAnswerBtns.forEach(b => b.disabled = true);
                
                const selectedAnswer = this.getAttribute('data-answer');
                const correctAnswer = '🐶=3, 🐱=2';
                
                if (selectedAnswer === correctAnswer) {
                    substitutionResultDiv.innerHTML = `
                        <div style="color: var(--success); padding: 20px; border-radius: 15px; background: rgba(102, 187, 106, 0.2);">
                            <i class="fas fa-check-circle"></i> ¡Correcto! La solución es 🐶=3, 🐱=2
                        </div>
                    `;
                    this.classList.add('correct');
                } else {
                    substitutionResultDiv.innerHTML = `
                        <div style="color: var(--warning); padding: 20px; border-radius: 15px; background: rgba(255, 183, 77, 0.2);">
                            <i class="fas fa-times-circle"></i> Incorrecto. La solución correcta es 🐶=3, 🐱=2
                        </div>
                    `;
                    this.classList.add('incorrect');
                }
                
                // Mostramos el botón de volver a intentar
                substitutionRetryBtn.style.display = 'inline-block';
            });
        });
        
        // Event listener para el botón de volver a intentar de sustitución
        substitutionRetryBtn.addEventListener('click', resetSubstitutionGame);
        
        // Juego de animalitos (graficación)
        const gameBoard = document.getElementById('game-board');
        const dog = document.getElementById('dog');
        const cat = document.getElementById('cat');
        const targetZone = document.getElementById('target-zone');
        const checkAnswerBtn = document.getElementById('check-answer');
        const resetGraphGameBtn = document.getElementById('reset-graph-game');
        const hintBtn = document.getElementById('hint-btn');
        const hintText = document.getElementById('hint-text');
        const gameResult = document.getElementById('game-result');
        const celebration = document.getElementById('celebration');
        
        // Crear cuadrícula
        const gridOverlay = document.getElementById('grid-overlay');
        for (let i = 0; i < 25; i++) {
            const cell = document.createElement('div');
            cell.className = 'grid-cell';
            const row = Math.floor(i / 5);
            const col = i % 5;
            cell.textContent = `${col},${4-row}`;
            gridOverlay.appendChild(cell);
        }
        
        // Configurar el arrastre de los animalitos
        let draggedElement = null;
        let offset = { x: 0, y: 0 };
        
        function startDrag(e, element) {
            draggedElement = element;
            element.classList.add('dragging');
            const rect = element.getBoundingClientRect();
            const boardRect = gameBoard.getBoundingClientRect();
            offset.x = e.clientX - rect.left;
            offset.y = e.clientY - rect.top;
            e.preventDefault();
        }
        
        function drag(e) {
            if (!draggedElement) return;
            
            const boardRect = gameBoard.getBoundingClientRect();
            let x = e.clientX - boardRect.left - offset.x;
            let y = e.clientY - boardRect.top - offset.y;
            
            // Limitar al área del tablero
            x = Math.max(0, Math.min(gameBoard.clientWidth - draggedElement.offsetWidth, x));
            y = Math.max(0, Math.min(gameBoard.clientHeight - draggedElement.offsetHeight, y));
            
            draggedElement.style.left = `${x}px`;
            draggedElement.style.top = `${y}px`;
        }
        
        function endDrag() {
            if (draggedElement) {
                draggedElement.classList.remove('dragging');
                draggedElement = null;
            }
        }
        
        // Event listeners para el perrito
        dog.addEventListener('mousedown', (e) => startDrag(e, dog));
        dog.addEventListener('touchstart', (e) => {
            const touch = e.touches[0];
            startDrag(touch, dog);
        });
        
        // Event listeners para el gatito
        cat.addEventListener('mousedown', (e) => startDrag(e, cat));
        cat.addEventListener('touchstart', (e) => {
            const touch = e.touches[0];
            startDrag(touch, cat);
        });
        
        // Event listeners globales para el arrastre
        document.addEventListener('mousemove', drag);
        document.addEventListener('mouseup', endDrag);
        document.addEventListener('touchmove', (e) => {
            if (e.touches.length > 0) {
                drag(e.touches[0]);
            }
        });
        document.addEventListener('touchend', endDrag);
        
        // Verificar la respuesta
        checkAnswerBtn.addEventListener('click', function() {
            const dogRect = dog.getBoundingClientRect();
            const catRect = cat.getBoundingClientRect();
            const targetRect = targetZone.getBoundingClientRect();
            const boardRect = gameBoard.getBoundingClientRect();
            
            // Calcular posiciones relativas al tablero
            const dogX = dogRect.left - boardRect.left + dogRect.width / 2;
            const dogY = dogRect.top - boardRect.top + dogRect.height / 2;
            const catX = catRect.left - boardRect.left + catRect.width / 2;
            const catY = catRect.top - boardRect.top + catRect.height / 2;
            const targetX = targetRect.left - boardRect.left + targetRect.width / 2;
            const targetY = targetRect.top - boardRect.top + targetRect.height / 2;
            
            // Calcular distancias
            const dogDistance = Math.sqrt(Math.pow(dogX - targetX, 2) + Math.pow(dogY - targetY, 2));
            const catDistance = Math.sqrt(Math.pow(catX - targetX, 2) + Math.pow(catY - targetY, 2));
            
            // Umbral de distancia para considerar correcto
            const threshold = 70;
            
            if (dogDistance < threshold && catDistance < threshold) {
                gameResult.innerHTML = '<i class="fas fa-heart"></i> ¡Felicidades! Los animalitos se encontraron en el punto (2, 3)';
                gameResult.className = 'game-result success';
                
                // Mostrar celebración
                celebration.classList.add('active');
                createCelebration();
                
                // Mover los animalitos al centro del corazón
                dog.style.left = `${targetX - dogRect.width / 2}px`;
                dog.style.top = `${targetY - dogRect.height / 2}px`;
                cat.style.left = `${targetX - catRect.width / 2 + 15}px`;
                cat.style.top = `${targetY - catRect.height / 2 + 15}px`;
            } else {
                gameResult.innerHTML = '<i class="fas fa-times-circle"></i> Sigue intentando. Los animalitos deben encontrarse en el corazón verde';
                gameResult.className = 'game-result error';
            }
        });
        
        // Reiniciar el juego de graficación
        resetGraphGameBtn.addEventListener('click', function() {
            dog.style.left = '20%';
            dog.style.top = '80%';
            cat.style.left = '80%';
            cat.style.top = '20%';
            gameResult.innerHTML = '';
            gameResult.className = 'game-result';
            celebration.classList.remove('active');
        });
        
        // Mostrar/ocultar pista
        hintBtn.addEventListener('click', function() {
            if (hintText.style.display === 'block') {
                hintText.style.display = 'none';
            } else {
                hintText.style.display = 'block';
            }
        });
        
        // Crear celebración con corazones
        function createCelebration() {
            for (let i = 0; i < 25; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'heart';
                    heart.innerHTML = '❤️';
                    heart.style.left = `${Math.random() * 100}%`;
                    heart.style.top = `${Math.random() * 100}%`;
                    heart.style.fontSize = `${Math.random() * 1.5 + 1}rem`;
                    celebration.appendChild(heart);
                    
                    setTimeout(() => {
                        heart.remove();
                    }, 3000);
                }, i * 100);
            }
        }
        
        // Juego de igualación (del primer documento)
        const animalBalanceBeamEq = document.getElementById('animal-balance-beam-eq');
        const leftPlateEq = document.getElementById('left-plate-eq');
        const rightPlateEq = document.getElementById('right-plate-eq');
        const leftAnimalsEq = document.getElementById('left-animals-eq');
        const rightAnimalsEq = document.getElementById('right-animals-eq');
        const leftValueSpanEq = document.getElementById('left-value-eq');
        const rightValueSpanEq = document.getElementById('right-value-eq');
        const checkAnimalBalanceBtnEq = document.getElementById('check-animal-balance-eq');
        const resetAnimalBalanceBtnEq = document.getElementById('reset-animal-balance-eq');
        const hintAnimalBalanceBtnEq = document.getElementById('hint-animal-balance-eq');
        const hintAnimalBalanceTextEq = document.getElementById('hint-animal-balance-text-eq');
        const animalBalanceResultEq = document.getElementById('animal-balance-result-eq');
        const animalBlocksEq = document.querySelectorAll('.animal-block-eq');
        
        // Variables del juego
        let leftTotalEq = 0;
        let rightTotalEq = 0;
        
        // Función para actualizar el valor total de un lado
        function updateSideValueEq(side) {
            let total = 0;
            const animals = side === 'left' ? leftAnimalsEq : rightAnimalsEq;
            const animalElements = animals.querySelectorAll('.animal-block-eq');
            
            animalElements.forEach(animal => {
                total += parseInt(animal.getAttribute('data-value'));
            });
            
            if (side === 'left') {
                leftTotalEq = total;
                leftValueSpanEq.textContent = total;
            } else {
                rightTotalEq = total;
                rightValueSpanEq.textContent = total;
            }
            
            // Actualizar la inclinación de la balanza
            updateAnimalBalanceEq();
        }
        
        // Función para actualizar la inclinación de la balanza
        function updateAnimalBalanceEq() {
            const diff = leftTotalEq - rightTotalEq;
            const maxRotation = 20; // Máxima inclinación en grados
            let rotation = Math.max(-maxRotation, Math.min(maxRotation, diff * 3));
            animalBalanceBeamEq.style.transform = `rotate(${rotation}deg)`;
        }
        
        // Configurar arrastrar y soltar para los animales
        animalBlocksEq.forEach(block => {
            block.addEventListener('dragstart', function(e) {
                e.dataTransfer.setData('text/plain', this.outerHTML);
                this.style.opacity = '0.5';
            });
            
            block.addEventListener('dragend', function() {
                this.style.opacity = '1';
            });
        });
        
        // Configurar zonas de soltar (los platillos)
        [leftPlateEq, rightPlateEq].forEach(plate => {
            plate.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.classList.add('drag-over');
            });
            
            plate.addEventListener('dragleave', function() {
                this.classList.remove('drag-over');
            });
            
            plate.addEventListener('drop', function(e) {
                e.preventDefault();
                this.classList.remove('drag-over');
                
                const animalHTML = e.dataTransfer.getData('text/plain');
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = animalHTML;
                const newAnimal = tempDiv.firstChild;
                
                // Asignar eventos al nuevo animal
                newAnimal.addEventListener('dragstart', function(e) {
                    e.dataTransfer.setData('text/plain', this.outerHTML);
                    this.style.opacity = '0.5';
                });
                
                newAnimal.addEventListener('dragend', function() {
                    this.style.opacity = '1';
                });
                
                // Añadir clase para ajustar tamaño en el platillo
                newAnimal.classList.add('animal-in-plate-eq');
                
                // Añadir el animal al platillo correspondiente
                const animalsContainer = this.id === 'left-plate-eq' ? leftAnimalsEq : rightAnimalsEq;
                animalsContainer.appendChild(newAnimal);
                
                // Actualizar el valor del lado
                updateSideValueEq(this.id === 'left-plate-eq' ? 'left' : 'right');
            });
        });
        
        // Permitir soltar animales en la zona de animales disponibles para devolverlos
        const animalsContainerEq = document.querySelector('.draggable-animals-eq');
        animalsContainerEq.addEventListener('dragover', function(e) {
            e.preventDefault();
        });
        
        // Verificar si la balanza está equilibrada
        checkAnimalBalanceBtnEq.addEventListener('click', function() {
            if (leftTotalEq === 0 && rightTotalEq === 0) {
                animalBalanceResultEq.textContent = '¡Coloca animales en ambos lados primero!';
                animalBalanceResultEq.className = 'game-result-eq error';
                return;
            }
            
            if (leftTotalEq === rightTotalEq) {
                animalBalanceResultEq.innerHTML = '<i class="fas fa-check-circle"></i> ¡Felicidades! La balanza está equilibrada.';
                animalBalanceResultEq.className = 'game-result-eq success';
                // Efecto de celebración
                createAnimalBalanceCelebrationEq();
            } else {
                animalBalanceResultEq.innerHTML = '<i class="fas fa-times-circle"></i> La balanza no está equilibrada. Sigue intentando.';
                animalBalanceResultEq.className = 'game-result-eq error';
            }
        });
        
        // Reiniciar el juego
        resetAnimalBalanceBtnEq.addEventListener('click', function() {
            leftAnimalsEq.innerHTML = '';
            rightAnimalsEq.innerHTML = '';
            leftTotalEq = 0;
            rightTotalEq = 0;
            leftValueSpanEq.textContent = '0';
            rightValueSpanEq.textContent = '0';
            animalBalanceResultEq.textContent = '';
            animalBalanceResultEq.className = 'game-result-eq';
            animalBalanceBeamEq.style.transform = 'rotate(0deg)';
        });
        
        // Mostrar/ocultar pista
        hintAnimalBalanceBtnEq.addEventListener('click', function() {
            if (hintAnimalBalanceTextEq.style.display === 'block') {
                hintAnimalBalanceTextEq.style.display = 'none';
            } else {
                hintAnimalBalanceTextEq.style.display = 'block';
            }
        });
        
        // Función para crear efectos de celebración
        function createAnimalBalanceCelebrationEq() {
            const colors = ['#ff5722', '#00bcd4', '#3f51b5', '#ffc107', '#4caf50'];
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.style.position = 'fixed';
                    confetti.style.width = `${Math.random() * 10 + 5}px`;
                    confetti.style.height = `${Math.random() * 10 + 5}px`;
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.left = `${Math.random() * 100}%`;
                    confetti.style.top = `-10px`;
                    confetti.style.opacity = Math.random();
                    confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                    confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                    document.body.appendChild(confetti);
                    
                    // Animación de caída
                    let position = -10;
                    const speed = Math.random() * 3 + 2;
                    const rotation = Math.random() * 10 - 5;
                    const fallInterval = setInterval(() => {
                        position += speed;
                        confetti.style.top = `${position}px`;
                        confetti.style.transform += ` rotate(${rotation}deg)`;
                        if (position > window.innerHeight) {
                            clearInterval(fallInterval);
                            confetti.remove();
                        }
                    }, 20);
                }, i * 30);
            }
        }
        
        // Juego de monstruos (eliminación)
        const monsters = document.querySelectorAll('.monster');
        const monsterResult = document.getElementById('monster-result');
        const resetMonsterGameBtn = document.getElementById('reset-monster-game');
        const hintMonsterBtn = document.getElementById('hint-monster-btn');
        const monsterHintText = document.getElementById('monster-hint-text');
        let monsterGameCompleted = false;
        
        // Event listeners para los monstruos
        monsters.forEach(monster => {
            monster.addEventListener('click', function() {
                if (monsterGameCompleted) return;
                
                const value = this.getAttribute('data-value');
                const correctValue = '2'; // Respuesta correcta
                
                // Deshabilitar todos los monstruos temporalmente
                monsters.forEach(m => m.style.pointerEvents = 'none');
                
                if (value === correctValue) {
                    // Respuesta correcta
                    this.classList.add('correct');
                    monsterResult.innerHTML = `
                        <div class="success-animation">
                            <i class="fas fa-check-circle"></i> ¡Correcto! Multiplicando por 2 obtenemos 6🐶 + 4🐱 = 32
                        </div>
                    `;
                    monsterResult.className = 'game-result success';
                    
                    // Animación de eliminación del monstruo
                    setTimeout(() => {
                        this.classList.add('monster-eliminated');
                        monsterGameCompleted = true;
                        // Crear celebración
                        createMonsterCelebration();
                    }, 1000);
                } else {
                    // Respuesta incorrecta
                    this.classList.add('incorrect');
                    monsterResult.innerHTML = `
                        <div>
                            <i class="fas fa-times-circle"></i> ¡Inténtalo de nuevo! Recuerda que necesitamos que los valores del gato sean opuestos.
                        </div>
                    `;
                    monsterResult.className = 'game-result error';
                    
                    // Rehabilitar monstruos después de un tiempo
                    setTimeout(() => {
                        monsters.forEach(m => {
                            m.style.pointerEvents = 'auto';
                            m.classList.remove('incorrect');
                        });
                    }, 1500);
                }
            });
        });
        
        // Función para crear celebración con monstruos
        function createMonsterCelebration() {
            const monstersEmojis = ['👾', '👻', '👹', '👺', '🤖', '👽', '🤡'];
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const monster = document.createElement('div');
                    monster.style.position = 'fixed';
                    monster.style.fontSize = `${Math.random() * 2.5 + 1.5}rem`;
                    monster.style.left = `${Math.random() * 100}%`;
                    monster.style.top = `${Math.random() * 100}%`;
                    monster.style.opacity = Math.random();
                    monster.style.zIndex = '1000';
                    monster.innerHTML = monstersEmojis[Math.floor(Math.random() * monstersEmojis.length)];
                    monster.style.pointerEvents = 'none';
                    document.body.appendChild(monster);
                    
                    // Animación de caída
                    let position = 0;
                    const speed = Math.random() * 3 + 2;
                    const rotation = Math.random() * 10 - 5;
                    const fallInterval = setInterval(() => {
                        position += speed;
                        monster.style.top = `${position}px`;
                        monster.style.transform += ` rotate(${rotation}deg)`;
                        monster.style.opacity -= 0.01;
                        if (position > window.innerHeight || monster.style.opacity <= 0) {
                            clearInterval(fallInterval);
                            monster.remove();
                        }
                    }, 20);
                }, i * 100);
            }
        }
        
        // Reiniciar el juego de monstruos
        resetMonsterGameBtn.addEventListener('click', function() {
            monsterGameCompleted = false;
            monsterResult.innerHTML = '';
            monsterResult.className = 'game-result';
            monsters.forEach(monster => {
                monster.classList.remove('correct', 'incorrect', 'monster-eliminated');
                monster.style.pointerEvents = 'auto';
            });
        });
        
        // Mostrar/ocultar pista
        hintMonsterBtn.addEventListener('click', function() {
            if (monsterHintText.style.display === 'block') {
                monsterHintText.style.display = 'none';
            } else {
                monsterHintText.style.display = 'block';
            }
        });
    </script>
</body>
</html>
